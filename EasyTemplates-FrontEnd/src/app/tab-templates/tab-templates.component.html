<div class="card-body">
    <br>
    <h5 class="card-title">Templates</h5>
    <br>
    <div>
        <div class="btn-group w-100">
            <form [formGroup]="formSearch" #f="ngForm">
                <select class="form-select form-select-lg mb-3 " [(ngModel)]='default' (change)="onChange(f)"
                    formControlName="options" style="width: 150px; background-color: aliceblue;">
                    <option value="select">Option</option>
                    <option value="all">All Templates</option>
                    <option value="id">ID</option>
                    <option value="title">Title</option>
                    <option value="user">User Id</option>
                </select>
            </form>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="{{valuePlaceholder}}"
                    aria-label="Recipient's username" aria-describedby="button-addon2" id="input">
                <button class="btn btn-primary" type="button" id="button-addon2" *ngIf="valuePlaceholder=='id'"
                    (click)="seeById();">Search</button>
                <button class="btn btn-primary" type="button" id="button-addon2" *ngIf="valuePlaceholder=='title'"
                    (click)="seeByTitle();">Search</button>
                <button class="btn btn-primary" type="button" id="button-addon2" *ngIf="valuePlaceholder=='user'"
                    (click)="seeByUser();">Search</button>
                <button class="btn btn-primary" type="button" id="button-addon2" *ngIf="valuePlaceholder=='all'"
                    (click)="seeAll();">Search</button>
            </div>

        </div>
        <br><br>

        <div style="overflow-x: auto;">
            <table class="table table-striped table-bordered border-primary " id="tbTemplates">
                <thead>
                    <tr style="background-color: rgb(173, 205, 234);">
                        <th scope="col">ID</th>
                        <th scope="col">Date</th>
                        <th scope="col">Src</th>
                        <th scope="col">Title</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let t of templates">
                        <th scope="row">{{t.id}}</th>
                        <td>{{t.fechaCreacion}}</td>
                        <td>{{t.src}}</td>
                        <td>{{t.titulo}}</td>
                        <td>
                            <table>
                                <th> <button type="button" class="btn btn-danger" scope="col" (click)="delete(t.id);"><i
                                            class="bi bi-trash-fill"></i></button></th>
                                
                                <th> <button (click)="openItemModal(t.id)" type="button" class="btn btn-success" scope="col"><i
                                            class="bi bi-eye-fill"></i></button>
                                </th>

                            </table>

                        </td>
                    </tr>


                </tbody>
            </table>
            <table class="table table-striped table-bordered border-primary " id="tbID">
                <thead>
                    <tr style="background-color: rgb(173, 205, 234);">
                        <th scope="col">ID</th>
                        <th scope="col">Date</th>
                        <th scope="col">Src</th>
                        <th scope="col">Title</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr >
                        <th scope="row">{{template?.id}}</th>
                        <td>{{template?.fechaCreacion}}</td>
                        <td>{{template?.src}}</td>
                        <td>{{template?.titulo}}</td>
                        <td>
                            <table>
                                <th> <button type="button" class="btn btn-danger" scope="col"  (click)="delete(template?.id);"><i
                                            class="bi bi-trash-fill"></i></button></th>
                               
                                <th> <button type="button" class="btn btn-success" scope="col"><i
                                            class="bi bi-eye-fill"></i></button>
                                </th>

                            </table>

                        </td>
                    </tr>


                </tbody>
            </table>
            <table class="table table-striped table-bordered border-primary " id="tbTitle">
                <thead>
                    <tr style="background-color: rgb(173, 205, 234);">
                        <th scope="col">ID</th>
                        <th scope="col">Date</th>
                        <th scope="col">Src</th>
                        <th scope="col">Title</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let t of templates">
                        <th scope="row">{{t.id}}</th>
                        <td>{{t.fechaCreacion}}</td>
                        <td>{{t.src}}</td>
                        <td>{{t.titulo}}</td>
                        <td>
                            <table>
                                <th> <button type="button" class="btn btn-danger" scope="col"  (click)="delete(t.id);"><i
                                            class="bi bi-trash-fill"></i></button></th>
                               
                                <th> <button type="button" class="btn btn-success" scope="col"><i
                                            class="bi bi-eye-fill"></i></button>
                                </th>

                            </table>

                        </td>
                    </tr>


                </tbody>
            </table>
            <table class="table table-striped table-bordered border-primary " id="tbUserId">
                <thead>
                    <tr style="background-color: rgb(173, 205, 234);">
                        <th scope="col">ID</th>
                        <th scope="col">Date</th>
                        <th scope="col">Src</th>
                        <th scope="col">Title</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let t of templates">
                        <th scope="row">{{t.id}}</th>
                        <td>{{t.fechaCreacion}}</td>
                        <td>{{t.src}}</td>
                        <td>{{t.titulo}}</td>
                        <td>
                            <table>
                                <th> <button type="button" class="btn btn-danger" scope="col"  (click)="delete(t.id);"><i
                                            class="bi bi-trash-fill"></i></button></th>
                              
                                <th> <button type="button" class="btn btn-success" scope="col"><i
                                            class="bi bi-eye-fill"></i></button>
                                </th>

                            </table>

                        </td>
                    </tr>


                </tbody>
            </table>
            <!--paginaciÃ³n -> la hacemos con module de angular,pero por ahora para la vista, pongo esta-->
        </div>


    </div>

</div>

<div class="modal fade bd-example-modal-lg" id="itemPreview" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="itemPreview">Template Preview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <div *ngFor="let item of items">
                    <p *ngIf="item.type == 'h1' || item.type == 'h2' || item.type == 'h3' || item.type == 'h4'" class="{{item.type}}">
                        {{item.text}}</p>
                    <img *ngIf="item.type == 'img'" src="{{item.content}}" class="w-100">
                    <a *ngIf="item.type == 'enlace'" href="{{item.content}}">{{item.text}}</a>
                    <div class="{{item.type}}" *ngIf="item.type == 'espacio' || item.type == 'linea'">
                        <hr *ngIf="item.type == 'linea'">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>